<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-148411216-7"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-148411216-7",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="PayID Developer Documentation and Reference Guides" href="/payid-documentation/review-apps/landing-page/aca845/opensearch.xml"><title data-react-helmet="true">Security Best Practices | PayID Developer Documentation and Reference Guides</title><meta data-react-helmet="true" property="og:image" content="http://localhost:3000/payid-documentation/review-apps/landing-page/aca845/img/payid.png"><meta data-react-helmet="true" property="twitter:image" content="http://localhost:3000/payid-documentation/review-apps/landing-page/aca845/img/payid.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for PayID Developer Documentation and Reference Guides"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Security Best Practices | PayID Developer Documentation and Reference Guides"><meta data-react-helmet="true" name="description" content="The PayID protocol is flexible and supports a wide range of implementations. To ensure security, follow these best practices."><meta data-react-helmet="true" property="og:description" content="The PayID protocol is flexible and supports a wide range of implementations. To ensure security, follow these best practices."><meta data-react-helmet="true" property="og:url" content="http://localhost:3000/payid-documentation/review-apps/landing-page/aca845/payid-best-practices"><link data-react-helmet="true" rel="shortcut icon" href="/payid-documentation/review-apps/landing-page/aca845/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="http://localhost:3000/payid-documentation/review-apps/landing-page/aca845/payid-best-practices"><link rel="stylesheet" href="/payid-documentation/review-apps/landing-page/aca845/styles.cad687cb.css">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/styles.e8344204.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/runtime~main.f4d4c3e6.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/main.dc608a5f.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/1.5ba717da.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/2.70959adc.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/36.14f3338b.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/39.52e456a0.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/d57a9c34.db059b69.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/17896441.d5523013.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/aca845/e4d3cddf.1a000e31.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="http://localhost:8000" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/payid-documentation/review-apps/landing-page/aca845/img/icon.svg" alt="PayID: Unifying payments through a universal payment identifier to simplify sending and receiving payments"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/payid-documentation/review-apps/landing-page/aca845/">Documentation</a><a href="https://api.payid.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a><a href="http://localhost:8000/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact Us</a><a href="https://github.com/payid-org/payid" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-button header-github-link" aria-label="GitHub repository">GitHub repository</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="http://localhost:8000" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/payid-documentation/review-apps/landing-page/aca845/img/icon.svg" alt="PayID: Unifying payments through a universal payment identifier to simplify sending and receiving payments"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/payid-documentation/review-apps/landing-page/aca845/">Documentation</a></li><li class="menu__list-item"><a href="https://api.payid.org" target="_blank" rel="noopener noreferrer" class="menu__link">API Reference</a></li><li class="menu__list-item"><a href="http://localhost:8000/contact" target="_blank" rel="noopener noreferrer" class="menu__link">Contact Us</a></li><li class="menu__list-item"><a href="https://github.com/payid-org/payid" target="_blank" rel="noopener noreferrer" class="menu__link github-button header-github-link" aria-label="GitHub repository">GitHub repository</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a href="http://localhost:8000" target="_self" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_Snse"><img src="/payid-documentation/review-apps/landing-page/aca845/img/icon.svg" alt="PayID: Unifying payments through a universal payment identifier to simplify sending and receiving payments"><strong></strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/aca845/">Home</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/verifiable-payid-tutorial">Get Started with Verifiable PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/ripplex-dev-kit-payid-get-started">Get Started with RippleX Dev Kit and PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/metrics-tutorial">Metrics Tutorial</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference Implementation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/payid-reference-overview">Reference Implementation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/payid-cli">PayID CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/verifiable-payid">Enhance Security With Verifiable PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/payid-discovery">Discover a PayID</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/payid-best-practices">Security Best Practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/integrate-payid-users">Integrate Existing User Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/aca845/metrics">Metrics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment Options</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/intro-deploy">Deployment Options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/payid-server-requirements">Server Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/local-deployment">Deploy Locally Without Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/deploy-with-docker">Deploy a PayID Server with Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/aws-lambda-deploy">Deploy on AWS Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/remote-deployment">Deploy on AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/nginx-ssl-deploy">Set Up NGINX Reverse Proxy and SSL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">PayID References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/api-reference">API Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/payid-cli-reference">PayID CLI Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/payid-headers">Headers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/payid-interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/aca845/payid-schemas">Schemas</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/aca845/ripplex-dev-kit-payid">RippleX Dev Kit Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/aca845/community-resources">Community Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/aca845/release-notes">Release Notes</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Security Best Practices</h1></header><div class="markdown"><p>The PayID protocol is flexible and supports a wide range of implementations. To ensure security, follow these best practices.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="requirements"></a>Requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a></h2><p>When implementing PayID, you must meet the following requirements.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="limit-admin-api-exposure"></a>Limit Admin API exposure<a aria-hidden="true" tabindex="-1" class="hash-link" href="#limit-admin-api-exposure" title="Direct link to heading">#</a></h3><p>The <a href="https://api.payid.org/?version=latest#7a19329b-80eb-451f-bbb8-d9656892a788" target="_blank" rel="noopener noreferrer">Admin PayID API</a> does not currently include authentication. Therefore, this API <strong>MUST</strong> only be exposed to trusted IP ranges, and <strong>MUST NOT</strong> be exposed publicly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="set-cors-cross-origin-resource-sharing-headers"></a>Set CORS (Cross-Origin Resource Sharing) Headers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-cors-cross-origin-resource-sharing-headers" title="Direct link to heading">#</a></h3><p>PayID servers should be easily accessible. To allow browser scripts to hit a PayID server, you should set the following CORS headers.</p><p>The PayID reference implementation server already sets these headers, but if you are rolling your own implementation or using a reverse proxy like nginx, you should ensure these headers are set or passed through.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-http codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Access-Control-Allow-Origin: &#x27;*&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Access-Control-Allow-Methods: &#x27;POST, GET, OPTIONS&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Access-Control-Allow-Headers: &#x27;PayID-Version&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Access-Control-Expose-Headers: &#x27;PayID-Version, PayID-Server-Version&#x27;</span></div></div></div></div></div><p>If you want to verify whether CORS is correctly set up for your PayID server, you can modify the following HTML file to point to your PayID server, open it up in a web browser, and inspect the console.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-html codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">html</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">script</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="font-style:italic">const</span><span class="token script language-javascript"> headers </span><span class="token script language-javascript operator" style="color:rgb(137, 221, 255)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="font-style:italic">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name" style="color:rgb(255, 203, 107)">Headers</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">    headers</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(130, 170, 255)">append</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;Accept&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;application/xrpl-mainnet+json&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">    headers</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(130, 170, 255)">append</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;PayID-Version&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;1.0&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:rgb(130, 170, 255)">fetch</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript keyword" style="font-style:italic">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name" style="color:rgb(255, 203, 107)">Request</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;https://ripplex.money/alice&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">      method</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;GET&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">      headers</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">      mode</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(195, 232, 141)">&#x27;cors&#x27;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript parameter">response</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(130, 170, 255)">json</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(130, 170, 255)">then</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript property-access">log</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token script language-javascript">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">script</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">html</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cache-control"></a>Cache-Control<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cache-control" title="Direct link to heading">#</a></h3><p>Because the PayID server deals with payment addresses, you want to ensure that payment addresses don&#x27;t get cached. That way, the payment address is always up to date, and money won&#x27;t be set to the incorrect address.</p><p>The PayID reference implementation server already sets this header, but if you are rolling your own implementation or using a reverse proxy like nginx, you should ensure this header is set or passed through.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-http codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cache-Control: no-store</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="use-tls-13"></a>Use TLS 1.3<a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-tls-13" title="Direct link to heading">#</a></h3><p>As stated in the requirements, your implementation of PayID must use TLS. To ensure security, both the PayID client and the PayID server should use the latest TLS 1.3, as described in <a href="https://tools.ietf.org/html/rfc8446" target="_blank" rel="noopener noreferrer">RFC 8446</a>. TLS 1.3 is faster and safer than its predecessors, and offers these advantages:</p><ul><li>Reduces handshake latency</li><li>Encrypts more of the handshake</li><li>Improves resiliency to cross-protocol attacks</li><li>Removes legacy features</li></ul><p><strong>Note:</strong> TLS 1.3 (RFC 8446) and its implementations provide considerable flexibility in the selection of cipher suites. Cryptographic algorithms weaken over time as cryptanalysis improves: algorithms that are considered strong today may become weak tomorrow. Therefore, you must prepare to phase out such algorithms over time, and replace with more secure cipher suites as those become available.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="best-practices-for-payid-implementation"></a>Best practices for PayID implementation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#best-practices-for-payid-implementation" title="Direct link to heading">#</a></h2><p>The following best practices are strongly recommended.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="harden-docker"></a>Harden Docker<a aria-hidden="true" tabindex="-1" class="hash-link" href="#harden-docker" title="Direct link to heading">#</a></h3><p>Consider adding further Docker hardening steps, such as using the <code>no-new-privileges</code> security option to help prevent privilege escalation attacks through the misuse of <code>setuid</code> and <code>setgid</code> programs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="recommendations-for-open-source-implementation-libraries"></a>Recommendations for open-source implementation libraries<a aria-hidden="true" tabindex="-1" class="hash-link" href="#recommendations-for-open-source-implementation-libraries" title="Direct link to heading">#</a></h3><p>Many open-source implementation libraries support TLS 1.3. See the comprehensive list <a href="https://en.wikipedia.org/wiki/Comparison_of_TLS_implementations" target="_blank" rel="noopener noreferrer">on Wikipedia</a>.</p><p>Use an existing library rather than rolling your own implementation.</p><p>Among the various options available, use an Elliptic-Curve Cryptography (ECC) implementation for these reasons:</p><ul><li><p>Short keys: ECC provides greater security for a given key-size.</p></li><li><p>Better performance: The smaller key size also makes possible more compact implementations for a given level of security. This means faster cryptographic operations. ECC has very fast key generation and signature algorithms.</p></li><li><p>Efficient implementations: ECC exponentiation operations have extremely efficient, compact hardware implementations available, and these offer potential reductions in the implementation footprint even beyond those due to the smaller key length alone.</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="key-exchange-recommendations"></a>Key exchange recommendations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#key-exchange-recommendations" title="Direct link to heading">#</a></h4><p>Use the Elliptic-Curve-Diffie-Hellman (ECDH) key exchange in ephemeral mode as it provides forward secrecy, as explained in <a href="https://tools.ietf.org/html/rfc8446#section-7.4.2" target="_blank" rel="noopener noreferrer">RFC 8442, Section 7.4.2</a>. Use one of the following curves:</p><ul><li><p>secp256r1 or NIST P-256 (must be supported for key exchange for any TLS-compliant application)</p></li><li><p>X25519 (should be supported for key exchange for any TLS-compliant application)</p></li></ul><p>Each of these curves provides a 128-bit security level. For a 192-bit security level, use curve secp384r1.</p><p><strong>Note:</strong> Arguably, the extra security provided by P-384 is unnecessary, because the more efficient P-256 curve already provides security that cannot be broken through a sufficiently large accumulation of computing power.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="digital-signature-algorithm-recommendations"></a>Digital signature algorithm recommendations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#digital-signature-algorithm-recommendations" title="Direct link to heading">#</a></h4><p>Use one of the following digital signature algorithms:</p><ul><li>ecdsa_secp256r1_sha256 (This digital signature algorithm must be supported by any TLS-compliant application.)</li><li>ecdsa_secp384r1_sha384</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="cipher-suites-recommendations"></a>Cipher suites recommendations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cipher-suites-recommendations" title="Direct link to heading">#</a></h4><p>Use one of the following cipher suites:</p><ul><li><p>TLS_AES_128_GCM_SHA256 (This cipher suite must be implemented for any TLS-compliant application.)</p></li><li><p>TLS_AES_256_GCM_SHA384 and TLS_CHACHA20_POLY1305_SHA256 (these are SHOULD be implemented cipher suites )</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="additional-recommendations"></a>Additional Recommendations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#additional-recommendations" title="Direct link to heading">#</a></h4><p>Do not use the 0-RTT (Zero Round Trip Time Resumption (0-RTT) mode of operation. 0-RTT encryption keys do not provide
full-forward secrecy, and the server cannot guarantee uniqueness of the handshake (non-replayability) without keeping potentially undue amounts of state. See <a href="https://tools.ietf.org/html/rfc8446#appendix-E.1.3" target="_blank" rel="noopener noreferrer">RFC 8446, Appendix E.1.3</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/payid-org/payid-documentation/tree/master/docs/best-practices.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/payid-documentation/review-apps/landing-page/aca845/payid-discovery"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Discover a PayID</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/payid-documentation/review-apps/landing-page/aca845/integrate-payid-users"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Integrate Existing User Databases Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link">Requirements</a><ul><li><a href="#limit-admin-api-exposure" class="table-of-contents__link">Limit Admin API exposure</a></li><li><a href="#set-cors-cross-origin-resource-sharing-headers" class="table-of-contents__link">Set CORS (Cross-Origin Resource Sharing) Headers</a></li><li><a href="#cache-control" class="table-of-contents__link">Cache-Control</a></li><li><a href="#use-tls-13" class="table-of-contents__link">Use TLS 1.3</a></li></ul></li><li><a href="#best-practices-for-payid-implementation" class="table-of-contents__link">Best practices for PayID implementation</a><ul><li><a href="#harden-docker" class="table-of-contents__link">Harden Docker</a></li><li><a href="#recommendations-for-open-source-implementation-libraries" class="table-of-contents__link">Recommendations for open-source implementation libraries</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/payid-documentation/review-apps/landing-page/aca845/styles.e8344204.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/runtime~main.f4d4c3e6.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/main.dc608a5f.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/1.5ba717da.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/2.70959adc.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/36.14f3338b.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/39.52e456a0.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/d57a9c34.db059b69.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/17896441.d5523013.js"></script>
<script src="/payid-documentation/review-apps/landing-page/aca845/e4d3cddf.1a000e31.js"></script>
</body>
</html>