<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-148411216-7"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-148411216-7",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="PayID Developer Documentation and Reference Guides" href="/payid-documentation/review-apps/landing-page/f13343/opensearch.xml"><title data-react-helmet="true">Deploy on AWS Lambda | PayID Developer Documentation and Reference Guides</title><meta data-react-helmet="true" property="og:image" content="http://localhost:3000/payid-documentation/review-apps/landing-page/f13343/img/payid.png"><meta data-react-helmet="true" property="twitter:image" content="http://localhost:3000/payid-documentation/review-apps/landing-page/f13343/img/payid.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for PayID Developer Documentation and Reference Guides"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Deploy on AWS Lambda | PayID Developer Documentation and Reference Guides"><meta data-react-helmet="true" name="description" content="You can deploy a PayID server on AWS Lambda, a setup that allows you to run code without having to deploy or manage a server."><meta data-react-helmet="true" property="og:description" content="You can deploy a PayID server on AWS Lambda, a setup that allows you to run code without having to deploy or manage a server."><meta data-react-helmet="true" property="og:url" content="http://localhost:3000/payid-documentation/review-apps/landing-page/f13343/aws-lambda-deploy"><link data-react-helmet="true" rel="shortcut icon" href="/payid-documentation/review-apps/landing-page/f13343/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="http://localhost:3000/payid-documentation/review-apps/landing-page/f13343/aws-lambda-deploy"><link rel="stylesheet" href="/payid-documentation/review-apps/landing-page/f13343/styles.cad687cb.css">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/styles.eb15ac61.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/runtime~main.4fe4e95d.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/main.fbf4fb32.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/1.5ba717da.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/2.70959adc.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/36.36ef37a4.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/39.52e456a0.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/0c8543ee.3f140cc6.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/17896441.500df69e.js" as="script">
<link rel="preload" href="/payid-documentation/review-apps/landing-page/f13343/cbcf3bb5.86962929.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="http://localhost:8000" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/payid-documentation/review-apps/landing-page/f13343/img/icon.svg" alt="PayID: Unifying payments through a universal payment identifier to simplify sending and receiving payments"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/payid-documentation/review-apps/landing-page/f13343/">Documentation</a><a href="https://api.payid.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a><a href="http://localhost:8000/contact" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact Us</a><a href="https://github.com/payid-org/payid" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-button header-github-link" aria-label="GitHub repository">GitHub repository</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="http://localhost:8000" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/payid-documentation/review-apps/landing-page/f13343/img/icon.svg" alt="PayID: Unifying payments through a universal payment identifier to simplify sending and receiving payments"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/payid-documentation/review-apps/landing-page/f13343/">Documentation</a></li><li class="menu__list-item"><a href="https://api.payid.org" target="_blank" rel="noopener noreferrer" class="menu__link">API Reference</a></li><li class="menu__list-item"><a href="http://localhost:8000/contact" target="_blank" rel="noopener noreferrer" class="menu__link">Contact Us</a></li><li class="menu__list-item"><a href="https://github.com/payid-org/payid" target="_blank" rel="noopener noreferrer" class="menu__link github-button header-github-link" aria-label="GitHub repository">GitHub repository</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a href="http://localhost:8000" target="_self" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_Snse"><img src="/payid-documentation/review-apps/landing-page/f13343/img/icon.svg" alt="PayID: Unifying payments through a universal payment identifier to simplify sending and receiving payments"><strong></strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/f13343/">Home</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/verifiable-payid-tutorial">Get Started with Verifiable PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/ripplex-dev-kit-payid-get-started">Get Started with RippleX Dev Kit and PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/metrics-tutorial">Metrics Tutorial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference Implementation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-reference-overview">Reference Implementation Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-cli">PayID CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/verifiable-payid">Enhance Security With Verifiable PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-discovery">Discover a PayID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-best-practices">Security Best Practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/integrate-payid-users">Integrate Existing User Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/metrics">Metrics</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Deployment Options</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/intro-deploy">Deployment Options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/payid-server-requirements">Server Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/local-deployment">Deploy Locally Without Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/deploy-with-docker">Deploy a PayID Server with Docker</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/aws-lambda-deploy">Deploy on AWS Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/remote-deployment">Deploy on AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/payid-documentation/review-apps/landing-page/f13343/nginx-ssl-deploy">Set Up NGINX Reverse Proxy and SSL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">PayID References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/api-reference">API Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-cli-reference">PayID CLI Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-headers">Headers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/payid-documentation/review-apps/landing-page/f13343/payid-schemas">Schemas</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/f13343/ripplex-dev-kit-payid">RippleX Dev Kit Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/f13343/community-resources">Community Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/payid-documentation/review-apps/landing-page/f13343/release-notes">Release Notes</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Deploy on AWS Lambda</h1></header><div class="markdown"><p>You can deploy a PayID server on AWS Lambda, a setup that allows you to run code without having to deploy or manage a server.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="requirements"></a>Requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a></h2><p>To deploy PayID server on AWS Lambda, you need the following:</p><ul><li>An AWS account.</li><li>A domain, which you control, to use for your PayIDs. This domain will be part of each PayID. <strong>After you add the stack</strong>, you must update your domain to use Amazon&#x27;s name servers in the Route53 hosted zone that&#x27;s created for you.</li><li>A certificate imported into Amazon Certificate Manager (ACM) in the <code>us-east-1</code> region. If you do not have such a certificate, you can use ACM to request one.</li><li>If you have existing PayIDs to import, a <code>json</code> file containing the PayIDs that you want to upload to the S3 (Amazon Simple Storage Service) bucket created by the stack.</li></ul><p>For more information about AWS Lambda and AWS CloudFormation, see:</p><ul><li><a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener noreferrer">AWS Lambda</a></li><li><a href="https://aws.amazon.com/cloudformation/" target="_blank" rel="noopener noreferrer">AWS CloudFormation</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="request-or-import-a-certificate-to-amazon-certificate-manager-acm"></a>Request or import a certificate to Amazon Certificate Manager (ACM)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-or-import-a-certificate-to-amazon-certificate-manager-acm" title="Direct link to heading">#</a></h2><p>If you do not already have a certificate, then you will need to request one in ACM. If you do have one, you will need to import it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1-open-acm-in-the-aws-console-in-us-east-1"></a>Step 1: Open ACM in the AWS console in us-east-1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1-open-acm-in-the-aws-console-in-us-east-1" title="Direct link to heading">#</a></h3><p>You <strong>must</strong> use the <code>US East (N. Virginia) us-east-1</code> region to open ACM and request or import your certificate, or CloudFormation will not create your stack/PayID server correctly. AWS Lambda uses API Gateway for HTTP access which leverages a Cloudfront distribution for pointing a domain to it, and Cloudfront distributions require ACM certificates to exist in <code>us-east-1</code>. See: <a href="https://docs.aws.amazon.com/acm/latest/userguide/acm-regions.html" target="_blank" rel="noopener noreferrer">AWS ACM regions documentation</a>.</p><ul><li>Open the <a href="https://console.aws.amazon.com/acm/home?region=us-east-1" target="_blank" rel="noopener noreferrer">ACM console</a>.</li><li>Below <strong>Provision Certificates</strong>, click <strong>Get Started</strong>.</li><li>If you already have a certificate, click <strong>Import a certificate</strong>.</li><li>If you do not have a certificate already, make sure <strong>Request a public certificate</strong> is selected, and click <strong>Request a certificate</strong>. Proceed through the steps as described to create the appropriate certificate.</li></ul><p>If you import a certificate, enter the appropriate values and proceed with the import. Continue with <a href="#step-6-wait-for-pending-validation-and-add-a-cname-at-your-registrar-step-6">Step 6</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2-request-a-public-certificate"></a>Step 2: Request a public certificate<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2-request-a-public-certificate" title="Direct link to heading">#</a></h3><p><img src="/img/docs/request-cert-acm-start.png" alt="request a public certificate"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3-specify-your-domain-name"></a>Step 3: Specify your domain name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3-specify-your-domain-name" title="Direct link to heading">#</a></h3><p><img src="/img/docs/request-cert-step-1.png" alt="specify your domain name"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4-choose-dns-validation"></a>Step 4: Choose DNS validation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-4-choose-dns-validation" title="Direct link to heading">#</a></h3><p><img src="/img/docs/request-cert-step-2.png" alt="choose dns validation"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-5-add-tags-optional"></a>Step 5: Add tags (optional)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-5-add-tags-optional" title="Direct link to heading">#</a></h3><p><img src="/img/docs/request-cert-step-3.png" alt="optionally add tags"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-5-review"></a>Step 5: Review<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-5-review" title="Direct link to heading">#</a></h3><p><img src="/img/docs/request-cert-step-4.png" alt="review"></p><p>Click <strong>Confirm and request</strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-6-add-a-cname-at-your-registrar-and-wait-for-pending-validation"></a>Step 6: Add a CNAME at your registrar and wait for pending validation<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-6-add-a-cname-at-your-registrar-and-wait-for-pending-validation" title="Direct link to heading">#</a></h3><p>After you click <strong>Confirm and request</strong> in Step 5, you are at a screen pending validation as shown here:</p><p><img src="/img/docs/request-cert-step-5.png" alt="pending validation"></p><p>For the validation to proceed, you must enter the CNAME information at the registrar site for your domain. Go to your registrar site, and use the CNAME information to add a <code>CNAME</code> record so ACM can validate that you own the domain. Here&#x27;s an example of what this looks like for one registrar. The format for your registrar may differ.</p><p><img src="/img/docs/request-cert-step-6.png" alt="add a cname"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-7-wait-for-issuance-approximately-30-minutes"></a>Step 7: Wait for issuance (approximately 30 minutes)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-7-wait-for-issuance-approximately-30-minutes" title="Direct link to heading">#</a></h3><p>On the AWS site, wait for ACM to display the <code>CNAME</code> you added and issue the certificate. When this happens, you should see the status change:</p><p><img src="/img/docs/request-cert-step-7.png" alt="issued"></p><p>If the validation is unsuccessful after 72 hours, the process times out. Repeat the steps, ensuring that your values are correct.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-8-copy-the-certificate-arn-amazon-resource-name-for-use-with-this-cloudformation-stack"></a>Step 8: Copy the certificate ARN (Amazon Resource Name) for use with this CloudFormation stack<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-8-copy-the-certificate-arn-amazon-resource-name-for-use-with-this-cloudformation-stack" title="Direct link to heading">#</a></h3><p>This ARN appears on the page where your certificate is issued, as shown here.</p><p><img src="/img/docs/request-cert-step-8.png" alt="certificate arn"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="update-your-domains-nameservers-for-your-payid-domain"></a>Update your domain&#x27;s nameservers for your PayID domain<a aria-hidden="true" tabindex="-1" class="hash-link" href="#update-your-domains-nameservers-for-your-payid-domain" title="Direct link to heading">#</a></h2><p>When you finish creating the CloudFormation Stack using our template, you next update your nameserver settings on your registrar to use Amazon&#x27;s.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="launch-your-stack"></a>Launch your stack<a aria-hidden="true" tabindex="-1" class="hash-link" href="#launch-your-stack" title="Direct link to heading">#</a></h2><p>When you have requested or imported a certificate, and configured CNAME as described, you can create and launch the stack.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1-create-the-stack"></a>Step 1: Create the stack<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1-create-the-stack" title="Direct link to heading">#</a></h3><p>Click the button below.</p><p><a href="https://us-west-1.console.aws.amazon.com/cloudformation/home?region=us-west-1#/stacks/new?templateURL=https://payid-server-template.s3-us-west-2.amazonaws.com/payid-stack.yaml&amp;stackName=my-payid-server" target="_blank" rel="noopener noreferrer"><img src="https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png" alt="Launch Stack"></a></p><p>The <strong>Create Stack</strong> page opens. Select the defaults on the <strong>Create stack</strong> page and click <strong>Next</strong>. The <strong>Specify stack details</strong> page opens.</p><p><img src="/img/docs/stack-form.png" alt="specify stack details"></p><p>Enter your stack name and your domain name, and click <strong>Next</strong>. Click through the pages, accepting the defaults.</p><p>To use the AWS command line, instead of the AWS console, to launch your stack, see <a href="#launch-with-aws-lambda-using-scripts">Launch with AWS Lambda using scripts</a>. You will achieve the same results using our scripts.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2-view-the-nameservers-in-the-stack-output-or-go-to-route53-in-the-aws-console-and-click-on-your-hosted-zone"></a>Step 2: View the nameservers in the stack output, or go to Route53 in the AWS console and click on your hosted zone<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2-view-the-nameservers-in-the-stack-output-or-go-to-route53-in-the-aws-console-and-click-on-your-hosted-zone" title="Direct link to heading">#</a></h3><p>If you&#x27;re still on the CloudFormation page looking at the stack, the <code>Outputs</code> tab will list the nameservers you need to use.</p><p><img src="/img/docs/stack-outputs.png" alt="stack outputs"></p><p>If you&#x27;ve already closed the tab or navigated away, you can find the same information in <a href="https://console.aws.amazon.com/route53/v2/hostedzones" target="_blank" rel="noopener noreferrer">Route53</a>.</p><p>Once you&#x27;re on this page, click the domain you used in the stack template (in this example, <code>somedomainyouown.com</code>):</p><p><img src="/img/docs/hosted-zone-list.png" alt="hosted zones"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3-find-the-nameservers"></a>Step 3: Find the nameservers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3-find-the-nameservers" title="Direct link to heading">#</a></h3><p>Click the hosted zone to display the nameservers you need to use with your registrar:</p><p><img src="/img/docs/hosted-zone-nameservers.png" alt="hosted zone nameservers"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4-update-your-registrar-with-amazons-nameservers"></a>Step 4: Update your registrar with Amazon&#x27;s nameservers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-4-update-your-registrar-with-amazons-nameservers" title="Direct link to heading">#</a></h3><p>Paste the values you saw in the previous step into wherever your registrar allows you to change them. For example:</p><p><img src="/img/docs/registrar-nameservers.png" alt="registrar nameservers"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="test-your-payid-server"></a>Test your PayID server<a aria-hidden="true" tabindex="-1" class="hash-link" href="#test-your-payid-server" title="Direct link to heading">#</a></h2><p>Use <a href="https://payidvalidator.com/" target="_blank" rel="noopener noreferrer">PayID Validator</a> to test your PayIDs.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="launch-with-aws-lambda-using-scripts"></a>Launch with AWS Lambda using scripts<a aria-hidden="true" tabindex="-1" class="hash-link" href="#launch-with-aws-lambda-using-scripts" title="Direct link to heading">#</a></h2><p>If you prefer not to use the AWS CLI, you can use these scripts to request a AWS certificate for your PayID domain and launch the payid lambda stack on your domain.</p><ul><li><a href="https://github.com/xpring-eng/payid-lambda/blob/master/request-certificate.sh" target="_blank" rel="noopener noreferrer">request-certificate.sh</a> - Request a certificate via AWS certificate manager for a given domain.</li><li><a href="https://github.com/xpring-eng/payid-lambda/blob/master/create-stack.sh" target="_blank" rel="noopener noreferrer">create-stack.sh</a> - Create the payid lambda stack on your account for a given domain.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="prequisites"></a>Prequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prequisites" title="Direct link to heading">#</a></h3><ul><li>Install <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html" target="_blank" rel="noopener noreferrer">AWS CLI</a>.</li><li>Make sure <code>aws configure</code> has been configured with an Access Key created via <a href="https://console.aws.amazon.com/iam/home?region=us-east-1#/security_credentials" target="_blank" rel="noopener noreferrer">IAM--Your Security Credentials</a>.</li><li>You must have a domain and the ability to configure DNS for your domain.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="usage"></a>Usage<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="request-a-certificate"></a>Request a certificate<a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-a-certificate" title="Direct link to heading">#</a></h4><p>Command: <code>./request-certificate.sh &lt;domain-name&gt;</code></p><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./request-certificate.sh hodl.payid.ml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Requesting certificate for hodl.payid.ml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Certificate requested. Please create the following CNAME record for your domain:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">_09dee7696e4d458fb16fead080465035.hodl.payid.ml.    CNAME   _b1fddaad4657f8e03167be7b61dc3685.jfrzftwwjs.acm-validations.aws.</span></div></div></div></div></div><p>When the certificate request is completed, create the CNAME for your domain as specified in the output. You have to visit your registrar site, as described in <a href="#step-6-pending-validation-and-adding-a-cname-at-your-registrar">Steps 6 and 7</a>.</p><p>Wait for AWS Certificate Manager to issue your certificate before proceeding to the next command.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="launch-the-payid-lambda-stack"></a>Launch the PayID Lambda stack<a aria-hidden="true" tabindex="-1" class="hash-link" href="#launch-the-payid-lambda-stack" title="Direct link to heading">#</a></h4><p>Command: <code>./create-stack.sh &lt;domain-name&gt;</code></p><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./create-stack.sh hodl.payid.ml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Creating stack hodl-payid-ml-payid-stack in AWS...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Waiting for changeset to be created..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Waiting for stack create/update to complete</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Successfully created/updated stack - hodl-payid-ml-payid-stack</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Created successfully</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Please update the Nameservers for your domain to</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nameserver1 ns-1288.awsdns-33.org</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nameserver2 ns-852.awsdns-42.net</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nameserver3 ns-1593.awsdns-07.co.uk</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nameserver4 ns-8.awsdns-01.com</span></div></div></div></div></div><p>Once completed, update the nameservers for your domain to the ones specified in the output, as described in <a href="#step-3-find-the-nameservers">Step 3 and 4</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="add-payids-to-your-amazon-s3-bucket"></a>Add PayIDs to your Amazon S3 bucket<a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-payids-to-your-amazon-s3-bucket" title="Direct link to heading">#</a></h2><p>When the stack is created, an Amazon S3 bucket titled <code>{name of stack}-s3bucket-{unique hash}</code> is also created.</p><p>You can add PayIDs by uploading <code>json</code> files to this bucket, each of which contains a single user that conforms to <a href="/payid-documentation/review-apps/landing-page/f13343/payid-schemas#example-single-user-schema">the PayID schema</a>. You can upload new files to the bucket via the <a href="https://s3.console.aws.amazon.com/s3/buckets/" target="_blank" rel="noopener noreferrer">Amazon S3 console</a>.</p><p>When the stack is created, a test account is provided at <code>testaccount.json</code>. The name of the file used to resolve the PayID--<code>testaccount.json</code>--is resolved by <code>mydomain.tld/testaccount</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;addresses&quot;:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;paymentNetwork&quot;:&quot;XRPL&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;environment&quot;:&quot;TESTNET&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;addressDetailsType&quot;:&quot;CryptoAddressDetails&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;addressDetails&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;address&quot;:&quot;T772A73My52QaUonaai6VE4X98zLu7VBQSXJKLYimjXDAJi&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-the-aws-lambda-function"></a>Upgrade the AWS Lambda function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#upgrade-the-aws-lambda-function" title="Direct link to heading">#</a></h2><p>To see if there is a release with an upgraded AWS Lambda function, look for <a href="https://github.com/xpring-eng/payid-lambda/releases" target="_blank" rel="noopener noreferrer">releases</a> with the file <code>payid-stack.yaml</code> attached.</p><p>The version you have installed is visible in the description of the stack in CloudFormation (for example, <code>[v1.0] PayID Lambda Server and API Gateway front end</code>) and also in the <code>Outputs</code> of the stack under the name <code>PayIdLambdaStackVersion</code>.</p><p>To perform an update, click the <code>Update</code> button when viewing the stack and upload the version of <code>payid-stack.yaml</code> to which you want to upgrade.</p><p><img src="/img/docs/update-button.png" alt="update button"></p><p><img src="/img/docs/update-form.png" alt="update button"></p><p><strong>Note</strong>: This upgrade updates the AWS Lambda function, but it could also update other resources as well in the stack, including API Gateway, Amazon S3, and others. The release notes will outline changes if other resources are altered, but be sure to also look at the changelog to see if other resources may be impacted.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/payid-org/payid-documentation/tree/master/docs/aws-lambda-deploy.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/payid-documentation/review-apps/landing-page/f13343/deploy-with-docker"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Deploy a PayID Server with Docker</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/payid-documentation/review-apps/landing-page/f13343/remote-deployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploy on AWS Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link">Requirements</a></li><li><a href="#request-or-import-a-certificate-to-amazon-certificate-manager-acm" class="table-of-contents__link">Request or import a certificate to Amazon Certificate Manager (ACM)</a><ul><li><a href="#step-1-open-acm-in-the-aws-console-in-us-east-1" class="table-of-contents__link">Step 1: Open ACM in the AWS console in us-east-1</a></li><li><a href="#step-2-request-a-public-certificate" class="table-of-contents__link">Step 2: Request a public certificate</a></li><li><a href="#step-3-specify-your-domain-name" class="table-of-contents__link">Step 3: Specify your domain name</a></li><li><a href="#step-4-choose-dns-validation" class="table-of-contents__link">Step 4: Choose DNS validation</a></li><li><a href="#step-5-add-tags-optional" class="table-of-contents__link">Step 5: Add tags (optional)</a></li><li><a href="#step-5-review" class="table-of-contents__link">Step 5: Review</a></li><li><a href="#step-6-add-a-cname-at-your-registrar-and-wait-for-pending-validation" class="table-of-contents__link">Step 6: Add a CNAME at your registrar and wait for pending validation</a></li><li><a href="#step-7-wait-for-issuance-approximately-30-minutes" class="table-of-contents__link">Step 7: Wait for issuance (approximately 30 minutes)</a></li><li><a href="#step-8-copy-the-certificate-arn-amazon-resource-name-for-use-with-this-cloudformation-stack" class="table-of-contents__link">Step 8: Copy the certificate ARN (Amazon Resource Name) for use with this CloudFormation stack</a></li></ul></li><li><a href="#update-your-domains-nameservers-for-your-payid-domain" class="table-of-contents__link">Update your domain&#39;s nameservers for your PayID domain</a></li><li><a href="#launch-your-stack" class="table-of-contents__link">Launch your stack</a><ul><li><a href="#step-1-create-the-stack" class="table-of-contents__link">Step 1: Create the stack</a></li><li><a href="#step-2-view-the-nameservers-in-the-stack-output-or-go-to-route53-in-the-aws-console-and-click-on-your-hosted-zone" class="table-of-contents__link">Step 2: View the nameservers in the stack output, or go to Route53 in the AWS console and click on your hosted zone</a></li><li><a href="#step-3-find-the-nameservers" class="table-of-contents__link">Step 3: Find the nameservers</a></li><li><a href="#step-4-update-your-registrar-with-amazons-nameservers" class="table-of-contents__link">Step 4: Update your registrar with Amazon&#39;s nameservers</a></li></ul></li><li><a href="#test-your-payid-server" class="table-of-contents__link">Test your PayID server</a></li><li><a href="#launch-with-aws-lambda-using-scripts" class="table-of-contents__link">Launch with AWS Lambda using scripts</a><ul><li><a href="#prequisites" class="table-of-contents__link">Prequisites</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li></ul></li><li><a href="#add-payids-to-your-amazon-s3-bucket" class="table-of-contents__link">Add PayIDs to your Amazon S3 bucket</a></li><li><a href="#upgrade-the-aws-lambda-function" class="table-of-contents__link">Upgrade the AWS Lambda function</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/payid-documentation/review-apps/landing-page/f13343/styles.eb15ac61.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/runtime~main.4fe4e95d.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/main.fbf4fb32.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/1.5ba717da.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/2.70959adc.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/36.36ef37a4.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/39.52e456a0.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/0c8543ee.3f140cc6.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/17896441.500df69e.js"></script>
<script src="/payid-documentation/review-apps/landing-page/f13343/cbcf3bb5.86962929.js"></script>
</body>
</html>